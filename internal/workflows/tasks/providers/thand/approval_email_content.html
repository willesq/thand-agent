<div style="margin-bottom: 1.5rem;">
    {{if .Message}}
    <p style="background-color: #f1f5f9; padding: 1rem; border-radius: 0.375rem; border-left: 4px solid #18181b;">
        <strong>{{.Message}}</strong>
    </p>
    {{else}}
    <p style="background-color: #f1f5f9; padding: 1rem; border-radius: 0.375rem; border-left: 4px solid #18181b;">
        <strong>A user has requested elevated access and requires your approval.</strong>
    </p>
    {{end}}
</div>

{{if .User}}
<div style="margin-bottom: 1.5rem;">
    <h3 style="font-size: 1.125rem; font-weight: 600; margin-bottom: 0.75rem;">Requestor</h3>
    <p>{{.User.Name}}{{if .User.Email}} ({{.User.Email}}){{end}}</p>
</div>
{{end}}

{{if .Role}}
<div style="margin-bottom: 1.5rem;">
    <h3 style="font-size: 1.125rem; font-weight: 600; margin-bottom: 0.75rem;">Role Details</h3>
    <p><strong>Role:</strong> {{.Role.Name}}</p>
    {{if .Role.Description}}
    <p><strong>Description:</strong> {{.Role.Description}}</p>
    {{end}}
</div>
{{end}}

{{if or .Providers .Duration .Reason}}
<div style="margin-bottom: 1.5rem;">
    <h3 style="font-size: 1.125rem; font-weight: 600; margin-bottom: 0.75rem;">Request Details</h3>
    {{if .Providers}}
    <p><strong>Providers:</strong> {{.Providers}}</p>
    {{end}}
    {{if .Duration}}
    <p><strong>Duration:</strong> {{.Duration}}</p>
    {{end}}
    {{if .Reason}}
    <p><strong>Reason:</strong> {{.Reason}}</p>
    {{end}}
</div>
{{end}}

{{if .Identities}}
<div style="margin-bottom: 1.5rem;">
    <h3 style="font-size: 1.125rem; font-weight: 600; margin-bottom: 0.75rem;">Target Identities</h3>
    <ul style="list-style: none; padding: 0; margin: 0;">
    {{range .Identities}}
        <li style="padding: 0.5rem; background-color: #f1f5f9; margin-bottom: 0.25rem; border-radius: 0.25rem;">- {{.}}</li>
    {{end}}
    </ul>
</div>
{{end}}

{{if .Groups}}
<div style="margin-bottom: 1.5rem;">
    <h3 style="font-size: 1.125rem; font-weight: 600; margin-bottom: 0.75rem;">Groups</h3>
    {{if .Groups.Allow}}
    <p><strong>Allowed:</strong></p>
    <ul style="list-style: none; padding: 0; margin: 0 0 0.75rem 0;">
    {{range .Groups.Allow}}
        <li style="padding: 0.5rem; background-color: #f1f5f9; margin-bottom: 0.25rem; border-radius: 0.25rem;">- {{.}}</li>
    {{end}}
    </ul>
    {{end}}
    {{if .Groups.Deny}}
    <p><strong>Denied:</strong></p>
    <ul style="list-style: none; padding: 0; margin: 0;">
    {{range .Groups.Deny}}
        <li style="padding: 0.5rem; background-color: #f1f5f9; margin-bottom: 0.25rem; border-radius: 0.25rem;">- {{.}}</li>
    {{end}}
    </ul>
    {{end}}
</div>
{{end}}

{{if .Permissions}}
<div style="margin-bottom: 1.5rem;">
    <h3 style="font-size: 1.125rem; font-weight: 600; margin-bottom: 0.75rem;">Permissions</h3>
    {{if .Permissions.Allow}}
    <p><strong>Allowed:</strong></p>
    <ul style="list-style: none; padding: 0; margin: 0 0 0.75rem 0;">
    {{range .Permissions.Allow}}
        <li style="padding: 0.5rem; background-color: #f1f5f9; margin-bottom: 0.25rem; border-radius: 0.25rem;">- {{.}}</li>
    {{end}}
    </ul>
    {{end}}
    {{if .Permissions.Deny}}
    <p><strong>Denied:</strong></p>
    <ul style="list-style: none; padding: 0; margin: 0;">
    {{range .Permissions.Deny}}
        <li style="padding: 0.5rem; background-color: #f1f5f9; margin-bottom: 0.25rem; border-radius: 0.25rem;">- {{.}}</li>
    {{end}}
    </ul>
    {{end}}
</div>
{{end}}

{{if .Resources}}
<div style="margin-bottom: 1.5rem;">
    <h3 style="font-size: 1.125rem; font-weight: 600; margin-bottom: 0.75rem;">Resources</h3>
    {{if .Resources.Allow}}
    <p><strong>Allowed:</strong></p>
    <ul style="list-style: none; padding: 0; margin: 0 0 0.75rem 0;">
    {{range .Resources.Allow}}
        <li style="padding: 0.5rem; background-color: #f1f5f9; margin-bottom: 0.25rem; border-radius: 0.25rem;">- {{.}}</li>
    {{end}}
    </ul>
    {{end}}
    {{if .Resources.Deny}}
    <p><strong>Denied:</strong></p>
    <ul style="list-style: none; padding: 0; margin: 0;">
    {{range .Resources.Deny}}
        <li style="padding: 0.5rem; background-color: #f1f5f9; margin-bottom: 0.25rem; border-radius: 0.25rem;">- {{.}}</li>
    {{end}}
    </ul>
    {{end}}
</div>
{{end}}

{{if .ActionMessage}}
<div style="margin-top: 2rem; padding-top: 1.5rem; border-top: 2px solid #e2e8f0;">
    <div style="background-color: #fef3c7; padding: 1rem; border-radius: 0.375rem; border-left: 4px solid #f59e0b; margin-bottom: 1.5rem;">
        <p style="margin: 0; white-space: pre-line;"><strong>{{.ActionMessage}}</strong></p>
    </div>
    
    {{if .ShowActions}}
    <div style="text-align: center; margin-top: 1.5rem;">
        <a href="{{.ApproveURL}}" style="display: inline-block; padding: 12px 32px; margin: 0 8px; background-color: #22c55e; color: white; text-decoration: none; border-radius: 6px; font-weight: 600; font-size: 1rem;">Approve</a>
        <a href="{{.DenyURL}}" style="display: inline-block; padding: 12px 32px; margin: 0 8px; background-color: #ef4444; color: white; text-decoration: none; border-radius: 6px; font-weight: 600; font-size: 1rem;">Deny</a>
        <a href="{{.ViewRequestURL}}" style="display: inline-block; padding: 12px 32px; margin: 0 8px; background-color: #3b82f6; color: white; text-decoration: none; border-radius: 6px; font-weight: 600; font-size: 1rem;">View Request</a>
    </div>
    {{end}}
</div>
{{end}}
